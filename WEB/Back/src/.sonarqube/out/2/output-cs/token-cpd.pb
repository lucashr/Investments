∞"
ÖC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Contexts\InvestmentsContext.cs
	namespace 	
Investments
 
. 
Persistence !
.! "
Contexts" *
{ 
public 

class 
InvestmentsContext #
:$ %
	DbContext& /
{ 
public 
InvestmentsContext !
(! "
DbContextOptions" 2
<2 3
InvestmentsContext3 E
>E F
optionsG N
)N O
:O P
baseQ U
(U V
optionsV ]
)] ^
{^ _
}_ `
public

 
DbSet

 
<

 
DetailedFunds

 &
>

& '
DetailedFunds

( 5
{

6 7
get

8 ;
;

; <
set

= @
;

@ A
}

B C
public 
DbSet 
< 
Funds 
> 
Funds  %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
	FundsYeld "
>" #
	FundsYeld$ -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
DbSet 
< 
RankOfTheBestFunds +
>+ ,
	RankFunds- 6
{7 8
get9 <
;< =
set> A
;A B
}C D
	protected 
override 
void #
OnModelCreating$ 3
(3 4
ModelBuilder4 @
modelBuilderA M
)M N
{ 
base 
. 
OnModelCreating $
($ %
modelBuilder% 1
)1 2
;2 3
modelBuilder 
. 
Entity #
<# $
DetailedFunds$ 1
>1 2
(2 3
funds 
=> 
funds "
." #
HasKey# )
() *
x* +
=>, .
x/ 0
.0 1
FundCode1 9
)9 :
) 
; 
base 
. 
OnModelCreating $
($ %
modelBuilder% 1
)1 2
;2 3
modelBuilder 
. 
Entity #
<# $
Funds$ )
>) *
(* +
funds, 1
=>2 4
{5 6
funds 
. 
HasKey  
(  !
x! "
=># %
x& '
.' (
Id( *
)* +
;+ ,
funds 
. 
Property "
(" #
x# $
=>% '
x( )
.) *
Id* ,
), -
.- .
ValueGeneratedOnAdd. A
(A B
)B C
;C D
} 
) 
; 
base 
. 
OnModelCreating $
($ %
modelBuilder% 1
)1 2
;2 3
modelBuilder 
. 
Entity #
<# $
	FundsYeld$ -
>- .
(. /
funds/ 4
=>5 7
{8 9
funds   
.   
HasKey   !
(  ! "
x  " #
=>  $ &
x  ' (
.  ( )
Id  ) +
)  + ,
;  , -
funds!! 
.!! 
Property!! #
(!!# $
x!!$ %
=>!!& (
x!!) *
.!!* +
Id!!+ -
)!!- .
.!!. /
ValueGeneratedOnAdd!!/ B
(!!B C
)!!C D
;!!D E
}"" 
)"" 
;"" 
base$$ 
.$$ 
OnModelCreating$$ $
($$$ %
modelBuilder$$% 1
)$$1 2
;$$2 3
modelBuilder%% 
.%% 
Entity%% #
<%%# $
RankOfTheBestFunds%%$ 6
>%%6 7
(%%7 8
Fund%%8 <
=>%%= ?
{%%@ A
Fund&& 
.&& 
HasKey&& 
(&&  
x&&  !
=>&&! #
x&&$ %
.&&% &
FundCode&&& .
)&&. /
;&&/ 0
}'' 
)'' 
;'' 
})) 
}++ 
},, †

àC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Contracts\IDetailedFundPersist.cs
	namespace 	
Investments
 
. 
Persistence !
.! "
	Contracts" +
{ 
public 

	interface  
IDetailedFundPersist )
{ 
Task		 
<		 
DetailedFunds		 
>		 &
GetDetailedFundByCodeAsync		 6
(		6 7
string		7 =
fundCode		> F
)		F G
;		G H
Task

 
<

 
IEnumerable

 
<

 
DetailedFunds

 &
>

& '
>

' ($
GetAllDetailedFundsAsync

) A
(

A B
)

B C
;

C D
Task 
< 
bool 
> !
AddDetailedFundsAsync (
(( )
IEnumerable) 4
<4 5
DetailedFunds5 B
>B C
detailedFundsD Q
)Q R
;R S
Task 
< 
bool 
> 
AddFundsYieldsAsync &
(& '
IEnumerable' 2
<2 3
	FundsYeld3 <
>< =

fundsYelds> H
)H I
;I J
} 
} ‡
ÅC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Contracts\IFundsPersist.cs
	namespace 	
Investments
 
. 
Persistence !
.! "
	Contracts" +
{ 
public 

	interface 
IFundsPersist "
{ 
Task		 
<		 
Funds		 
>		 !
UpdateFundByCodeAsync		 )
(		) *
string		* 0
oldFundCode		1 <
,		< =
string		> D
newFundCode		E P
)		P Q
;		Q R
Task

 
<

 
Funds

 
>

 
AddFundAsync

  
(

  !
string

! '
fundCode

( 0
)

0 1
;

1 2
Task 
< 
bool 
> 
AddFundsAsync  
(  !
IEnumerable! ,
<, -
DetailedFunds- :
>: ;
detailedFunds< I
)I J
;J K
Task 
< 
Funds 
> 
GetFundByCodeAsync &
(& '
string' -
fundCode. 6
)6 7
;7 8
Task 
< 
IEnumerable 
< 
Funds 
> 
>  
GetAllFundsAsync! 1
(1 2
)2 3
;3 4
Task 
< 
bool 
> !
DeleteFundByCodeAsync (
(( )
string) /
fundCode0 8
)8 9
;9 :
} 
} ¬
ÖC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Contracts\IFundsYeldPersist.cs
	namespace 	
Investments
 
. 
Persistence !
.! "
	Contracts" +
{ 
public 

	interface 
IFundsYeldPersist &
{ 
Task		 
<		 
IEnumerable		 
<		 
	FundsYeld		 "
>		" #
>		# $"
GetFundYeldByCodeAsync		% ;
(		; <
string		< B
fundCode		C K
)		K L
;		L M
Task

 
<

 
IEnumerable

 
<

 
	FundsYeld

 "
>

" #
>

# $ 
GetAllFundsYeldAsync

% 9
(

9 :
)

: ;
;

; <
Task 
< 
bool 
> 
AddFundsYieldsAsync &
(& '
IEnumerable' 2
<2 3
	FundsYeld3 <
>< =

fundsYelds> H
)H I
;I J
} 
} “
ÉC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Contracts\IGeneralPersist.cs
	namespace 	
Investments
 
. 
Persistence !
.! "
	Contracts" +
{ 
public 

	interface 
IGeneralPersist $
{ 
void 
Add 
< 
T 
> 
( 
T 
entity 
) 
where #
T$ %
:% &
class' ,
;, -
void 
AddRange 
< 
T 
> 
( 
T 
[ 
] 
entity #
)# $
where% *
T+ ,
:, -
class. 3
;3 4
void		 
Update		 
<		 
T		 
>		 
(		 
T		 
entity		 
)		  
where		! &
T		' (
:		( )
class		* /
;		/ 0
void

 
Delete

 
<

 
T

 
>

 
(

 
T

 
entity

 
)

  
where

! &
T

' (
:

( )
class

* /
;

/ 0
void 
DeleteRange 
< 
T 
> 
( 
T 
[ 
] 
entity  &
)& '
where( -
T. /
:/ 0
class1 6
;6 7
Task 
< 
bool 
> 
SaveChangesAsync #
(# $
)$ %
;% &
} 
} ·
éC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Contracts\IRankOfTheBestFundsPersist.cs
	namespace 	
Investments
 
. 
Persistence !
.! "
	Contracts" +
{ 
public 

	interface &
IRankOfTheBestFundsPersist /
{ 
Task		 
<		 
IEnumerable		 
<		 
RankOfTheBestFunds		 +
>		+ ,
>		, -&
GetRankOfTheBestFundsAsync		. H
(		H I
int		I L
?		L M
totalFundsInRank		N ^
=		_ `
null		a e
)		e f
;		f g
Task

 
<

 
bool

 
>

 &
AddRankOfTheBestFundsAsync

 -
(

- .
IEnumerable

. 9
<

9 :
RankOfTheBestFunds

: L
>

L M
rankOfTheBestFunds

N `
)

` a
;

a b
} 
} §
îC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Contracts\IWebScrapingFundsAndYeldsPersist.cs
	namespace 	
Investments
 
. 
Persistence !
.! "
	Contracts" +
{ 
public 

	interface ,
 IWebScrapingFundsAndYeldsPersist 5
{ 
} 
} •-
}C:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\DetailedFundPersist.cs
	namespace

 	
Investments


 
.

 
Persistence

 !
{ 
public 

class 
DetailedFundPersist $
:% &
GeneralPersist' 5
,5 6 
IDetailedFundPersist7 K
{ 
private 
readonly 
InvestmentsContext +
_context, 4
;4 5
public 
DetailedFundPersist "
(" #
InvestmentsContext# 5
context6 =
)= >
:? @
baseA E
(E F
contextF M
)M N
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
DetailedFunds '
>' (&
GetDetailedFundByCodeAsync) C
(C D
stringD J
fundCodeK S
)S T
{ 	
try 
{ 

IQueryable 
< 
DetailedFunds (
>( )
query* /
=0 1
_context2 :
.: ;
DetailedFunds; H
.: ;
AsNoTracking; G
(G H
)H I
.: ;
Where; @
(@ A
fA B
=>C E
fF G
.G H
FundCodeH P
.P Q
ToUpperQ X
(X Y
)Y Z
==[ ]
fundCode^ f
.f g
ToUpperg n
(n o
)o p
.p q
Trimq u
(u v
)v w
)w x
;x y
return 
await 
query "
." #
FirstOrDefaultAsync# 6
(6 7
)7 8
;8 9
} 
catch 
( 
System 
. 
	Exception #
ex$ &
)& '
{   
Console!! 
.!! 
	WriteLine!! !
(!!! "
ex!!" $
.!!$ %
Message!!% ,
)!!, -
;!!- .
return"" 
null"" 
;"" 
}## 
}%% 	
public'' 
async'' 
Task'' 
<'' 
IEnumerable'' %
<''% &
DetailedFunds''& 3
>''3 4
>''4 5$
GetAllDetailedFundsAsync''6 N
(''N O
)''O P
{(( 	
try)) 
{** 

IQueryable++ 
<++ 
DetailedFunds++ (
>++( )
query++* /
=++0 1
_context++2 :
.++: ;
DetailedFunds++; H
.++H I
AsNoTracking++I U
(++U V
)++V W
;++W X
return-- 
await-- 
query-- "
.--" #
ToListAsync--# .
(--. /
)--/ 0
;--0 1
}.. 
catch// 
(// 
System// 
.// 
	Exception// #
ex//$ &
)//& '
{00 
Console11 
.11 
	WriteLine11 !
(11! "
ex11" $
.11$ %
Message11% ,
)11, -
;11- .
return22 
null22 
;22 
}33 
}55 	
public77 
async77 
Task77 
<77 
bool77 
>77 !
AddDetailedFundsAsync77  5
(775 6
IEnumerable776 A
<77A B
DetailedFunds77B O
>77O P
detailedFunds77Q ^
)77^ _
{88 	
try99 
{:: 
_context;; 
.;; 
Database;; !
.;;! "
ExecuteSqlRaw;;" /
(;;/ 0
$str;;0 M
);;M N
;;;N O
_context<< 
.<< 
AddRange<< !
(<<! "
detailedFunds<<" /
)<</ 0
;<<0 1
await== 
_context== 
.== 
SaveChangesAsync== /
(==/ 0
)==0 1
;==1 2
return?? 
true?? 
;?? 
}@@ 
catchAA 
(AA 
SystemAA 
.AA 
	ExceptionAA #
exAA$ &
)AA& '
{BB 
ConsoleCC 
.CC 
	WriteLineCC !
(CC! "
exCC" $
.CC$ %
MessageCC% ,
)CC, -
;CC- .
returnDD 
falseDD 
;DD 
}EE 
}FF 	
publicHH 
asyncHH 
TaskHH 
<HH 
boolHH 
>HH 
AddFundsYieldsAsyncHH  3
(HH3 4
IEnumerableHH4 ?
<HH? @
	FundsYeldHH@ I
>HHI J

fundsYeldsHHK U
)HHU V
{II 	
tryJJ 
{KK 
_contextMM 
.MM 
DatabaseMM !
.MM! "
ExecuteSqlRawMM" /
(MM/ 0
$strMM0 I
)MMI J
;MMJ K
_contextNN 
.NN 
AddRangeNN !
(NN! "

fundsYeldsNN" ,
)NN, -
;NN- .
awaitOO 
_contextOO 
.OO 
SaveChangesAsyncOO /
(OO/ 0
)OO0 1
;OO1 2
returnQQ 
trueQQ 
;QQ 
}RR 
catchSS 
(SS 
SystemSS 
.SS 
	ExceptionSS #
exSS$ &
)SS& '
{TT 
ConsoleUU 
.UU 
	WriteLineUU !
(UU! "
exUU" $
.UU$ %
MessageUU% ,
)UU, -
;UU- .
returnVV 
falseVV 
;VV 
}WW 
}XX 	
}ZZ 
}[[ ˇã
vC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\FundsPersist.cs
	namespace

 	
Investments


 
.

 
Persistence

 !
{ 
public 

class 
FundsPersist 
: 
GeneralPersist  .
,. /
IFundsPersist0 =
{ 
private 
readonly 
InvestmentsContext +
_context, 4
;4 5
public 
FundsPersist 
( 
InvestmentsContext .
context/ 6
)6 7
:8 9
base: >
(> ?
context? F
)F G
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
DetailedFunds '
>' (&
GetDetailedFundByCodeAsync) C
(C D
stringD J
fundCodeK S
)S T
{ 	
try 
{ 

IQueryable 
< 
DetailedFunds (
>( )
query* /
=0 1
_context2 :
.: ;
DetailedFunds; H
.: ;
AsNoTracking; G
(G H
)H I
.: ;
Where; @
(@ A
fA B
=>C E
fF G
.G H
FundCodeH P
.P Q
ToUpperQ X
(X Y
)Y Z
==[ ]
fundCode^ f
.f g
ToUpperg n
(n o
)o p
.p q
Trimq u
(u v
)v w
)w x
;x y
return 
await 
query "
." #
FirstOrDefaultAsync# 6
(6 7
)7 8
;8 9
} 
catch 
( 
System 
. 
	Exception #
ex$ &
)& '
{   
Console!! 
.!! 
	WriteLine!! !
(!!! "
ex!!" $
.!!$ %
Message!!% ,
)!!, -
;!!- .
return"" 
null"" 
;"" 
}## 
}%% 	
public'' 
async'' 
Task'' 
<'' 
IEnumerable'' %
<''% &
DetailedFunds''& 3
>''3 4
>''4 5$
GetAllDetailedFundsAsync''6 N
(''N O
)''O P
{(( 	
try)) 
{** 

IQueryable++ 
<++ 
DetailedFunds++ (
>++( )
query++* /
=++0 1
_context++2 :
.++: ;
DetailedFunds++; H
.,,: ;
AsNoTracking,,; G
(,,G H
),,H I
;,,I J
return.. 
await.. 
query.. "
..." #
ToListAsync..# .
(... /
)../ 0
;..0 1
}// 
catch00 
(00 
System00 
.00 
	Exception00 #
ex00$ &
)00& '
{11 
Console22 
.22 
	WriteLine22 !
(22! "
ex22" $
.22$ %
Message22% ,
)22, -
;22- .
return33 
null33 
;33 
}44 
}66 	
public88 
async88 
Task88 
<88 
IEnumerable88 %
<88% &
	FundsYeld88& /
>88/ 0
>880 1"
GetFundYeldByCodeAsync882 H
(88H I
string88I O
fundCode88P X
)88X Y
{99 	
try:: 
{;; 

IQueryable<< 
<<< 
	FundsYeld<< $
><<$ %
query<<& +
=<<, -
_context<<. 6
.<<6 7
	FundsYeld<<7 @
.==6 7
AsNoTracking==7 C
(==C D
)==D E
.>>6 7
Where>>7 <
(>>< =
f>>= >
=>>>? A
f>>B C
.>>C D
FundCode>>D L
.>>L M
ToUpper>>M T
(>>T U
)>>U V
==>>W Y
fundCode>>Z b
.>>b c
ToUpper>>c j
(>>j k
)>>k l
.>>l m
Trim>>m q
(>>q r
)>>r s
)>>s t
;>>t u
return@@ 
await@@ 
query@@ "
.@@" #
ToListAsync@@# .
(@@. /
)@@/ 0
;@@0 1
}AA 
catchBB 
(BB 
SystemBB 
.BB 
	ExceptionBB #
exBB$ &
)BB& '
{CC 
ConsoleDD 
.DD 
	WriteLineDD !
(DD! "
exDD" $
.DD$ %
MessageDD% ,
)DD, -
;DD- .
returnEE 
nullEE 
;EE 
}FF 
}HH 	
publicJJ 
asyncJJ 
TaskJJ 
<JJ 
IEnumerableJJ %
<JJ% &
	FundsYeldJJ& /
>JJ/ 0
>JJ0 1 
GetAllFundsYeldAsyncJJ2 F
(JJF G
)JJG H
{KK 	
tryLL 
{MM 

IQueryableNN 
<NN 
	FundsYeldNN $
>NN$ %
queryNN& +
=NN, -
_contextNN. 6
.NN6 7
	FundsYeldNN7 @
.NN@ A
AsNoTrackingNNA M
(NNM N
)NNN O
;NNO P
returnPP 
awaitPP 
queryPP "
.PP" #
ToListAsyncPP# .
(PP. /
)PP/ 0
;PP0 1
}QQ 
catchRR 
(RR 
SystemRR 
.RR 
	ExceptionRR #
exRR$ &
)RR& '
{SS 
ConsoleTT 
.TT 
	WriteLineTT !
(TT! "
exTT" $
.TT$ %
MessageTT% ,
)TT, -
;TT- .
returnUU 
nullUU 
;UU 
}VV 
}XX 	
publicZZ 
asyncZZ 
TaskZZ 
<ZZ 
FundsZZ 
>ZZ  !
UpdateFundByCodeAsyncZZ! 6
(ZZ6 7
stringZZ7 =
oldFundCodeZZ> I
,ZZI J
stringZZK Q
newFundCodeZZR ]
)ZZ] ^
{[[ 	
try\\ 
{]] 

IQueryable^^ 
<^^ 
Funds^^  
>^^  !
query^^" '
=^^( )
_context^^* 2
.^^2 3
Funds^^3 8
.__2 3
AsNoTracking__3 ?
(__? @
)__@ A
.__A B
Where__B G
(__G H
x__H I
=>__I K
x__L M
.__M N
FundCode__N V
==__W Y
oldFundCode__Z e
)__e f
;__f g
ifaa 
(aa 
queryaa 
.aa 
FirstOrDefaultaa '
(aa' (
)aa( )
==aa* ,
nullaa- 1
)aa1 2
throwaa3 8
newaa9 <
	Exceptionaa= F
(aaF G
$straaG n
)aan o
;aao p
varcc 
fundcc 
=cc 
awaitcc  
querycc! &
.cc& '
FirstOrDefaultAsynccc' :
(cc: ;
)cc; <
;cc< =
fundee 
.ee 
FundCodeee 
=ee 
newFundCodeee  +
;ee+ ,
_contextgg 
.gg 
Updategg 
<gg  
Fundsgg  %
>gg% &
(gg& '
fundgg' +
)gg+ ,
;gg, -
awaitii 
_contextii 
.ii 
SaveChangesAsyncii /
(ii/ 0
)ii0 1
;ii1 2
fundkk 
=kk 
awaitkk 
_contextkk %
.kk% &
Fundskk& +
.kk+ ,
Wherekk, 1
(kk1 2
xkk2 3
=>kk3 5
xkk6 7
.kk7 8
FundCodekk8 @
==kkA C
newFundCodekkD O
)kkO P
.kkP Q
FirstOrDefaultAsynckkQ d
(kkd e
)kke f
;kkf g
returnmm 
fundmm 
;mm 
}nn 
catchoo 
(oo 
Systemoo 
.oo 
	Exceptionoo #
exoo$ &
)oo& '
{pp 
Consoleqq 
.qq 
	WriteLineqq !
(qq! "
exqq" $
.qq$ %
Messageqq% ,
)qq, -
;qq- .
returnrr 
nullrr 
;rr 
}ss 
}uu 	
publicww 
asyncww 
Taskww 
<ww 
boolww 
>ww 
AddFundsAsyncww  -
(ww- .
IEnumerableww. 9
<ww9 :
DetailedFundsww: G
>wwG H
detailedFundswwI V
)wwV W
{xx 	
tryyy 
{zz 
foreach|| 
(|| 
var|| 
fund|| !
in||" $
detailedFunds||% 2
)||2 3
{}} 

IQueryable 
< 
Funds $
>$ %
query& +
=, -
_context. 6
.6 7
Funds7 <
.< =
Where= B
(B C
xC D
=>D F
xG H
.H I
FundCodeI Q
==R T
fundU Y
.Y Z
FundCodeZ b
)b c
;c d
if
ÅÅ 
(
ÅÅ 
query
ÅÅ 
.
ÅÅ 
FirstOrDefault
ÅÅ +
(
ÅÅ+ ,
)
ÅÅ, -
is
ÅÅ. 0
not
ÅÅ1 4
null
ÅÅ5 9
)
ÅÅ9 :
continue
ÅÅ; C
;
ÅÅC D
var
ÉÉ 
newFund
ÉÉ 
=
ÉÉ  !
new
ÉÉ" %
Funds
ÉÉ& +
(
ÉÉ+ ,
)
ÉÉ, -
{
ÉÉ. /
FundCode
ÉÉ/ 7
=
ÉÉ8 9
fund
ÉÉ: >
.
ÉÉ> ?
FundCode
ÉÉ? G
}
ÉÉG H
;
ÉÉH I
_context
ÖÖ 
.
ÖÖ 
Add
ÖÖ  
<
ÖÖ  !
Funds
ÖÖ! &
>
ÖÖ& '
(
ÖÖ' (
newFund
ÖÖ( /
)
ÖÖ/ 0
;
ÖÖ0 1
await
áá 
_context
áá "
.
áá" #
SaveChangesAsync
áá# 3
(
áá3 4
)
áá4 5
;
áá5 6
}
ââ 
return
ãã 
true
ãã 
;
ãã 
}
çç 
catch
éé 
(
éé 
System
éé 
.
éé 
	Exception
éé #
ex
éé$ &
)
éé& '
{
èè 
Console
êê 
.
êê 
	WriteLine
êê !
(
êê! "
ex
êê" $
.
êê$ %
Message
êê% ,
)
êê, -
;
êê- .
return
ëë 
false
ëë 
;
ëë 
}
íí 
}
ìì 	
public
ïï 
async
ïï 
Task
ïï 
<
ïï 
Funds
ïï 
>
ïï  
AddFundAsync
ïï! -
(
ïï- .
string
ïï. 4
fundCode
ïï5 =
)
ïï= >
{
ññ 	
try
òò 
{
ôô 

IQueryable
öö 
<
öö 
Funds
öö  
>
öö  !
query
öö" '
=
öö( )
_context
öö* 2
.
öö2 3
Funds
öö3 8
.
öö8 9
Where
öö9 >
(
öö> ?
x
öö? @
=>
öö@ B
x
ööC D
.
ööD E
FundCode
ööE M
==
ööN P
fundCode
ööQ Y
)
ööY Z
;
ööZ [
if
úú 
(
úú 
query
úú 
.
úú 
FirstOrDefault
úú '
(
úú' (
)
úú( )
is
úú* ,
not
úú- 0
null
úú1 5
)
úú5 6
throw
úú7 <
new
úú= @
	Exception
úúA J
(
úúJ K
$str
úúK q
)
úúq r
;
úúr s
var
ûû 
newFund
ûû 
=
ûû 
new
ûû !
Funds
ûû" '
(
ûû' (
)
ûû( )
{
ûû* +
FundCode
ûû+ 3
=
ûû4 5
fundCode
ûû6 >
}
ûû> ?
;
ûû? @
_context
†† 
.
†† 
Add
†† 
<
†† 
Funds
†† "
>
††" #
(
††# $
newFund
††$ +
)
††+ ,
;
††, -
await
¢¢ 
_context
¢¢ 
.
¢¢ 
SaveChangesAsync
¢¢ /
(
¢¢/ 0
)
¢¢0 1
;
¢¢1 2
newFund
§§ 
=
§§ 
await
§§  
_context
§§! )
.
§§) *
Funds
§§* /
.
••) *
Where
••* /
(
••/ 0
x
••0 1
=>
••1 3
x
••4 5
.
••5 6
FundCode
••6 >
==
••? A
fundCode
••B J
)
••J K
.
••K L!
FirstOrDefaultAsync
••L _
(
••_ `
)
••` a
;
••a b
return
ßß 
newFund
ßß 
;
ßß 
}
®® 
catch
©© 
(
©© 
System
©© 
.
©© 
	Exception
©© #
ex
©©$ &
)
©©& '
{
™™ 
Console
´´ 
.
´´ 
	WriteLine
´´ !
(
´´! "
ex
´´" $
.
´´$ %
Message
´´% ,
)
´´, -
;
´´- .
return
¨¨ 
null
¨¨ 
;
¨¨ 
}
≠≠ 
}
ØØ 	
public
±± 
async
±± 
Task
±± 
<
±± 
Funds
±± 
>
±±   
GetFundByCodeAsync
±±! 3
(
±±3 4
string
±±4 :
fundCode
±±; C
)
±±C D
{
≤≤ 	
try
≥≥ 
{
¥¥ 

IQueryable
µµ 
<
µµ 
Funds
µµ  
>
µµ  !
query
µµ" '
=
µµ( )
_context
µµ* 2
.
µµ2 3
Funds
µµ3 8
.
∂∂2 3
AsNoTracking
∂∂3 ?
(
∂∂? @
)
∂∂@ A
.
∑∑2 3
Where
∑∑3 8
(
∑∑8 9
f
∑∑9 :
=>
∑∑; =
f
∑∑> ?
.
∑∑? @
FundCode
∑∑@ H
.
∑∑H I
ToUpper
∑∑I P
(
∑∑P Q
)
∑∑Q R
==
∑∑S U
fundCode
∑∑V ^
.
∑∑^ _
ToUpper
∑∑_ f
(
∑∑f g
)
∑∑g h
.
∑∑h i
Trim
∑∑i m
(
∑∑m n
)
∑∑n o
)
∑∑o p
;
∑∑p q
return
ππ 
await
ππ 
query
ππ "
.
ππ" #!
FirstOrDefaultAsync
ππ# 6
(
ππ6 7
)
ππ7 8
;
ππ8 9
}
∫∫ 
catch
ªª 
(
ªª 
System
ªª 
.
ªª 
	Exception
ªª #
ex
ªª$ &
)
ªª& '
{
ºº 
Console
ΩΩ 
.
ΩΩ 
	WriteLine
ΩΩ !
(
ΩΩ! "
ex
ΩΩ" $
.
ΩΩ$ %
Message
ΩΩ% ,
)
ΩΩ, -
;
ΩΩ- .
return
ææ 
null
ææ 
;
ææ 
}
øø 
}
¡¡ 	
public
√√ 
async
√√ 
Task
√√ 
<
√√ 
IEnumerable
√√ %
<
√√% &
Funds
√√& +
>
√√+ ,
>
√√, -
GetAllFundsAsync
√√. >
(
√√> ?
)
√√? @
{
ƒƒ 	
try
≈≈ 
{
∆∆ 

IQueryable
«« 
<
«« 
Funds
««  
>
««  !
query
««" '
=
««( )
_context
««* 2
.
««2 3
Funds
««3 8
.
««8 9
AsNoTracking
««9 E
(
««E F
)
««F G
;
««G H
return
…… 
await
…… 
query
…… "
.
……" #
ToListAsync
……# .
(
……. /
)
……/ 0
;
……0 1
}
   
catch
ÀÀ 
(
ÀÀ 
System
ÀÀ 
.
ÀÀ 
	Exception
ÀÀ #
ex
ÀÀ$ &
)
ÀÀ& '
{
ÃÃ 
Console
ÕÕ 
.
ÕÕ 
	WriteLine
ÕÕ !
(
ÕÕ! "
ex
ÕÕ" $
.
ÕÕ$ %
Message
ÕÕ% ,
)
ÕÕ, -
;
ÕÕ- .
return
ŒŒ 
null
ŒŒ 
;
ŒŒ 
}
œœ 
}
—— 	
public
”” 
async
”” 
Task
”” 
<
”” 
bool
”” 
>
”” #
DeleteFundByCodeAsync
””  5
(
””5 6
string
””6 <
fundCode
””= E
)
””E F
{
‘‘ 	
try
’’ 
{
÷÷ 

IQueryable
◊◊ 
<
◊◊ 
Funds
◊◊  
>
◊◊  !
query
◊◊" '
=
◊◊( )
_context
◊◊* 2
.
◊◊2 3
Funds
◊◊3 8
.
◊◊8 9
Where
◊◊9 >
(
◊◊> ?
x
◊◊? @
=>
◊◊@ B
x
◊◊C D
.
◊◊D E
FundCode
◊◊E M
==
◊◊N P
fundCode
◊◊Q Y
)
◊◊Y Z
;
◊◊Z [
if
ŸŸ 
(
ŸŸ 
query
ŸŸ 
.
ŸŸ 
FirstOrDefault
ŸŸ '
(
ŸŸ' (
)
ŸŸ( )
==
ŸŸ* ,
null
ŸŸ- 1
)
ŸŸ1 2
throw
ŸŸ3 8
new
ŸŸ9 <
	Exception
ŸŸ= F
(
ŸŸF G
$str
ŸŸG n
)
ŸŸn o
;
ŸŸo p
_context
€€ 
.
€€ 
Remove
€€ 
<
€€  
Funds
€€  %
>
€€% &
(
€€& '
query
€€' ,
.
€€, -
FirstOrDefault
€€- ;
(
€€; <
)
€€< =
)
€€= >
;
€€> ?
await
›› 
_context
›› 
.
›› 
SaveChangesAsync
›› /
(
››/ 0
)
››0 1
;
››1 2
return
ﬂﬂ 
true
ﬂﬂ 
;
ﬂﬂ 
}
‡‡ 
catch
·· 
(
·· 
System
·· 
.
·· 
	Exception
·· #
ex
··$ &
)
··& '
{
‚‚ 
Console
„„ 
.
„„ 
	WriteLine
„„ !
(
„„! "
ex
„„" $
.
„„$ %
Message
„„% ,
)
„„, -
;
„„- .
return
‰‰ 
false
‰‰ 
;
‰‰ 
}
ÂÂ 
}
ÁÁ 	
}
ÈÈ 
}ÍÍ ˙#
zC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\FundYeldsPersist.cs
	namespace

 	
Investments


 
.

 
Persistence

 !
{ 
public 

class 
FundYeldsPersist !
:" #
GeneralPersist$ 2
,2 3
IFundsYeldPersist4 E
{ 
private 
readonly 
InvestmentsContext +
_context, 4
;4 5
public 
FundYeldsPersist 
(  
InvestmentsContext  2
context3 :
): ;
:< =
base> B
(B C
contextC J
)J K
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
IEnumerable %
<% &
	FundsYeld& /
>/ 0
>0 1"
GetFundYeldByCodeAsync2 H
(H I
stringI O
fundCodeP X
)X Y
{ 	
try 
{ 

IQueryable 
< 
	FundsYeld $
>$ %
query& +
=, -
_context. 6
.6 7
	FundsYeld7 @
.6 7
AsNoTracking7 C
(C D
)D E
.6 7
Where7 <
(< =
f= >
=>? A
fB C
.C D
FundCodeD L
.L M
ToUpperM T
(T U
)U V
==W Y
fundCodeZ b
.b c
ToUpperc j
(j k
)k l
.l m
Trimm q
(q r
)r s
)s t
;t u
return 
await 
query "
." #
ToListAsync# .
(. /
)/ 0
;0 1
} 
catch   
(   
System   
.   
	Exception   #
ex  $ &
)  & '
{!! 
Console"" 
."" 
	WriteLine"" !
(""! "
ex""" $
.""$ %
Message""% ,
)"", -
;""- .
return## 
null## 
;## 
}$$ 
}&& 	
public(( 
async(( 
Task(( 
<(( 
IEnumerable(( %
<((% &
	FundsYeld((& /
>((/ 0
>((0 1 
GetAllFundsYeldAsync((2 F
(((F G
)((G H
{)) 	
try** 
{++ 

IQueryable,, 
<,, 
	FundsYeld,, $
>,,$ %
query,,& +
=,,, -
_context,,. 6
.,,6 7
	FundsYeld,,7 @
.,,@ A
AsNoTracking,,A M
(,,M N
),,N O
;,,O P
return.. 
await.. 
query.. "
..." #
ToListAsync..# .
(... /
)../ 0
;..0 1
}// 
catch00 
(00 
System00 
.00 
	Exception00 #
ex00$ &
)00& '
{11 
Console22 
.22 
	WriteLine22 !
(22! "
ex22" $
.22$ %
Message22% ,
)22, -
;22- .
return33 
null33 
;33 
}44 
}66 	
public88 
async88 
Task88 
<88 
bool88 
>88 
AddFundsYieldsAsync88  3
(883 4
IEnumerable884 ?
<88? @
	FundsYeld88@ I
>88I J

fundsYelds88K U
)88U V
{99 	
try:: 
{;; 
_context== 
.== 
Database== !
.==! "
ExecuteSqlRaw==" /
(==/ 0
$str==0 I
)==I J
;==J K
_context>> 
.>> 
AddRange>> !
(>>! "

fundsYelds>>" ,
)>>, -
;>>- .
await?? 
_context?? 
.?? 
SaveChangesAsync?? /
(??/ 0
)??0 1
;??1 2
returnAA 
trueAA 
;AA 
}BB 
catchCC 
(CC 
SystemCC 
.CC 
	ExceptionCC #
exCC$ &
)CC& '
{DD 
ConsoleEE 
.EE 
	WriteLineEE !
(EE! "
exEE" $
.EE$ %
MessageEE% ,
)EE, -
;EE- .
returnFF 
falseFF 
;FF 
}GG 
}HH 	
}JJ 
}KK ø
xC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\GeneralPersist.cs
	namespace 	
Investments
 
. 
Persistence !
{		 
public

 

class

 
GeneralPersist

 
:

  !
IGeneralPersist

" 1
{ 
private 
readonly 
InvestmentsContext +
_context, 4
;4 5
public 
GeneralPersist 
( 
InvestmentsContext 0
context1 8
)8 9
{ 	
_context 
= 
context 
; 
} 	
public 
void 
Add 
< 
T 
> 
( 
T 
entity #
)# $
where% *
T+ ,
:- .
class/ 4
{ 	
_context 
. 
Add 
( 
entity 
)  
;  !
} 	
public 
void 
AddRange 
< 
T 
> 
(  
T  !
[! "
]" #
entity$ *
)* +
where, 1
T2 3
:4 5
class6 ;
{ 	
_context 
. 
AddRange 
( 
entity $
)$ %
;% &
} 	
public 
void 
Delete 
< 
T 
> 
( 
T 
entity  &
)& '
where( -
T. /
:0 1
class2 7
{ 	
_context 
. 
Remove 
( 
entity "
)" #
;# $
} 	
public!! 
void!! 
DeleteRange!! 
<!!  
T!!  !
>!!! "
(!!" #
T!!# $
[!!$ %
]!!% &
entity!!' -
)!!- .
where!!/ 4
T!!5 6
:!!7 8
class!!9 >
{"" 	
_context## 
.## 
AddRange## 
(## 
entity## $
)##$ %
;##% &
}$$ 	
public&& 
async&& 
Task&& 
<&& 
bool&& 
>&& 
SaveChangesAsync&&  0
(&&0 1
)&&1 2
{'' 	
return(( 
((( 
await(( 
_context(( "
.((" #
SaveChangesAsync((# 3
(((3 4
)((4 5
)((5 6
>((7 8
$num((9 :
;((: ;
})) 	
public++ 
void++ 
Update++ 
<++ 
T++ 
>++ 
(++ 
T++ 
entity++  &
)++& '
where++( -
T++. /
:++0 1
class++2 7
{,, 	
_context-- 
.-- 
Update-- 
(-- 
entity-- "
)--" #
;--# $
}.. 	
}// 
}00 ¸I
ãC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Migrations\20220810025404_Initial.cs
	namespace 	
Investments
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
Initial  
:! "
	Migration# ,
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 %
,

% &
columns 
: 
table 
=> !
new" %
{ 
Papel 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
Segmento 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
trueL P
)P Q
,Q R
Cotacao 
= 
table #
.# $
Column$ *
<* +
double+ 1
>1 2
(2 3
type3 7
:7 8
$str9 ?
,? @
nullableA I
:I J
falseK P
)P Q
,Q R
FFOYield 
= 
table $
.$ %
Column% +
<+ ,
double, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
DividendYield !
=" #
table$ )
.) *
Column* 0
<0 1
double1 7
>7 8
(8 9
type9 =
:= >
$str? E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
PVP 
= 
table 
.  
Column  &
<& '
double' -
>- .
(. /
type/ 3
:3 4
$str5 ;
,; <
nullable= E
:E F
falseG L
)L M
,M N
ValorDeMercado "
=# $
table% *
.* +
Column+ 1
<1 2
double2 8
>8 9
(9 :
type: >
:> ?
$str@ F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Liquidez 
= 
table $
.$ %
Column% +
<+ ,
double, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
QtdDeImoveis  
=! "
table# (
.( )
Column) /
</ 0
double0 6
>6 7
(7 8
type8 <
:< =
$str> D
,D E
nullableF N
:N O
falseP U
)U V
,V W
	PrecoDoM2 
= 
table  %
.% &
Column& ,
<, -
double- 3
>3 4
(4 5
type5 9
:9 :
$str; A
,A B
nullableC K
:K L
falseM R
)R S
,S T
AluguelPorM2  
=! "
table# (
.( )
Column) /
</ 0
double0 6
>6 7
(7 8
type8 <
:< =
$str> D
,D E
nullableF N
:N O
falseP U
)U V
,V W
CapRate 
= 
table #
.# $
Column$ *
<* +
double+ 1
>1 2
(2 3
type3 7
:7 8
$str9 ?
,? @
nullableA I
:I J
falseK P
)P Q
,Q R
VacanciaMedia !
=" #
table$ )
.) *
Column* 0
<0 1
double1 7
>7 8
(8 9
type9 =
:= >
$str? E
,E F
nullableG O
:O P
falseQ V
)V W
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 7
,7 8
x9 :
=>; =
x> ?
.? @
Papel@ E
)E F
;F G
} 
) 
; 
migrationBuilder   
.   
CreateTable   (
(  ( )
name!! 
:!! 
$str!! 
,!! 
columns"" 
:"" 
table"" 
=>"" !
new""" %
{## 
Papel$$ 
=$$ 
table$$ !
.$$! "
Column$$" (
<$$( )
string$$) /
>$$/ 0
($$0 1
type$$1 5
:$$5 6
$str$$7 =
,$$= >
nullable$$? G
:$$G H
false$$I N
)$$N O
}%% 
,%% 
constraints&& 
:&& 
table&& "
=>&&# %
{'' 
table(( 
.(( 

PrimaryKey(( $
((($ %
$str((% /
,((/ 0
x((1 2
=>((3 5
x((6 7
.((7 8
Papel((8 =
)((= >
;((> ?
})) 
))) 
;)) 
migrationBuilder++ 
.++ 
CreateTable++ (
(++( )
name,, 
:,, 
$str,, !
,,,! "
columns-- 
:-- 
table-- 
=>-- !
new--" %
{.. 
Id// 
=// 
table// 
.// 
Column// %
<//% &
int//& )
>//) *
(//* +
type//+ /
:/// 0
$str//1 :
,//: ;
nullable//< D
://D E
false//F K
)//K L
.00 

Annotation00 #
(00# $
$str00$ :
,00: ;
true00< @
)00@ A
,00A B
Papel11 
=11 
table11 !
.11! "
Column11" (
<11( )
string11) /
>11/ 0
(110 1
type111 5
:115 6
$str117 =
,11= >
nullable11? G
:11G H
true11I M
)11M N
,11N O

UltDataCom22 
=22  
table22! &
.22& '
Column22' -
<22- .
string22. 4
>224 5
(225 6
type226 :
:22: ;
$str22< B
,22B C
nullable22D L
:22L M
true22N R
)22R S
,22S T
Valor33 
=33 
table33 !
.33! "
Column33" (
<33( )
double33) /
>33/ 0
(330 1
type331 5
:335 6
$str337 =
,33= >
nullable33? G
:33G H
false33I N
)33N O
,33O P
DataPagamento44 !
=44" #
table44$ )
.44) *
Column44* 0
<440 1
double441 7
>447 8
(448 9
type449 =
:44= >
$str44? E
,44E F
nullable44G O
:44O P
false44Q V
)44V W
,44W X
Tipo55 
=55 
table55  
.55  !
Column55! '
<55' (
double55( .
>55. /
(55/ 0
type550 4
:554 5
$str556 <
,55< =
nullable55> F
:55F G
false55H M
)55M N
}66 
,66 
constraints77 
:77 
table77 "
=>77# %
{88 
table99 
.99 

PrimaryKey99 $
(99$ %
$str99% 3
,993 4
x995 6
=>997 9
x99: ;
.99; <
Id99< >
)99> ?
;99? @
}:: 
):: 
;:: 
};; 	
	protected== 
override== 
void== 
Down==  $
(==$ %
MigrationBuilder==% 5
migrationBuilder==6 F
)==F G
{>> 	
migrationBuilder?? 
.?? 
	DropTable?? &
(??& '
name@@ 
:@@ 
$str@@ %
)@@% &
;@@& '
migrationBuilderBB 
.BB 
	DropTableBB &
(BB& '
nameCC 
:CC 
$strCC 
)CC 
;CC 
migrationBuilderEE 
.EE 
	DropTableEE &
(EE& '
nameFF 
:FF 
$strFF !
)FF! "
;FF" #
}GG 	
}HH 
}II ©B
öC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Migrations\20220831010130_withdrawnIdColumnFunds.cs
	namespace 	
Investments
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class "
withdrawnIdColumnFunds /
:0 1
	Migration2 ;
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
DropPrimaryKey

 +
(

+ ,
name 
: 
$str  
,  !
table 
: 
$str 
) 
;  
migrationBuilder 
. 
AlterColumn (
<( )
DateTime) 1
>1 2
(2 3
name 
: 
$str "
," #
table 
: 
$str "
," #
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
new !
DateTime" *
(* +
$num+ ,
,, -
$num. /
,/ 0
$num1 2
,2 3
$num4 5
,5 6
$num7 8
,8 9
$num: ;
,; <
$num= >
,> ?
DateTimeKind@ L
.L M
UnspecifiedM X
)X Y
,Y Z

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldType 
: 
$str 
,  
oldNullable 
: 
true !
)! "
;" #
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str "
," #
type 
: 
$str 
, 
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
double# )
)) *
,* +
oldType 
: 
$str 
)  
;  !
migrationBuilder   
.   
AlterColumn   (
<  ( )
DateTime  ) 1
>  1 2
(  2 3
name!! 
:!! 
$str!! %
,!!% &
table"" 
:"" 
$str"" "
,""" #
type## 
:## 
$str## 
,## 
nullable$$ 
:$$ 
false$$ 
,$$  

oldClrType%% 
:%% 
typeof%% "
(%%" #
double%%# )
)%%) *
,%%* +
oldType&& 
:&& 
$str&& 
)&&  
;&&  !
migrationBuilder(( 
.(( 
AlterColumn(( (
<((( )
string(() /
>((/ 0
(((0 1
name)) 
:)) 
$str)) 
,)) 
table** 
:** 
$str** 
,** 
type++ 
:++ 
$str++ 
,++ 
nullable,, 
:,, 
true,, 
,,, 

oldClrType-- 
:-- 
typeof-- "
(--" #
string--# )
)--) *
,--* +
oldType.. 
:.. 
$str.. 
)..  
;..  !
migrationBuilder00 
.00 
	AddColumn00 &
<00& '
int00' *
>00* +
(00+ ,
name11 
:11 
$str11 
,11 
table22 
:22 
$str22 
,22 
type33 
:33 
$str33 
,33  
nullable44 
:44 
false44 
,44  
defaultValue55 
:55 
$num55 
)55  
.66 

Annotation66 
(66 
$str66 2
,662 3
true664 8
)668 9
;669 :
migrationBuilder88 
.88 
AddPrimaryKey88 *
(88* +
name99 
:99 
$str99  
,99  !
table:: 
::: 
$str:: 
,:: 
column;; 
:;; 
$str;; 
);; 
;;; 
}<< 	
	protected>> 
override>> 
void>> 
Down>>  $
(>>$ %
MigrationBuilder>>% 5
migrationBuilder>>6 F
)>>F G
{?? 	
migrationBuilder@@ 
.@@ 
DropPrimaryKey@@ +
(@@+ ,
nameAA 
:AA 
$strAA  
,AA  !
tableBB 
:BB 
$strBB 
)BB 
;BB  
migrationBuilderDD 
.DD 

DropColumnDD '
(DD' (
nameEE 
:EE 
$strEE 
,EE 
tableFF 
:FF 
$strFF 
)FF 
;FF  
migrationBuilderHH 
.HH 
AlterColumnHH (
<HH( )
stringHH) /
>HH/ 0
(HH0 1
nameII 
:II 
$strII "
,II" #
tableJJ 
:JJ 
$strJJ "
,JJ" #
typeKK 
:KK 
$strKK 
,KK 
nullableLL 
:LL 
trueLL 
,LL 

oldClrTypeMM 
:MM 
typeofMM "
(MM" #
DateTimeMM# +
)MM+ ,
,MM, -
oldTypeNN 
:NN 
$strNN 
)NN  
;NN  !
migrationBuilderPP 
.PP 
AlterColumnPP (
<PP( )
doublePP) /
>PP/ 0
(PP0 1
nameQQ 
:QQ 
$strQQ 
,QQ 
tableRR 
:RR 
$strRR "
,RR" #
typeSS 
:SS 
$strSS 
,SS 
nullableTT 
:TT 
falseTT 
,TT  
defaultValueUU 
:UU 
$numUU !
,UU! "

oldClrTypeVV 
:VV 
typeofVV "
(VV" #
stringVV# )
)VV) *
,VV* +
oldTypeWW 
:WW 
$strWW 
,WW  
oldNullableXX 
:XX 
trueXX !
)XX! "
;XX" #
migrationBuilderZZ 
.ZZ 
AlterColumnZZ (
<ZZ( )
doubleZZ) /
>ZZ/ 0
(ZZ0 1
name[[ 
:[[ 
$str[[ %
,[[% &
table\\ 
:\\ 
$str\\ "
,\\" #
type]] 
:]] 
$str]] 
,]] 
nullable^^ 
:^^ 
false^^ 
,^^  

oldClrType__ 
:__ 
typeof__ "
(__" #
DateTime__# +
)__+ ,
,__, -
oldType`` 
:`` 
$str`` 
)``  
;``  !
migrationBuilderbb 
.bb 
AlterColumnbb (
<bb( )
stringbb) /
>bb/ 0
(bb0 1
namecc 
:cc 
$strcc 
,cc 
tabledd 
:dd 
$strdd 
,dd 
typeee 
:ee 
$stree 
,ee 
nullableff 
:ff 
falseff 
,ff  
defaultValuegg 
:gg 
$strgg  
,gg  !

oldClrTypehh 
:hh 
typeofhh "
(hh" #
stringhh# )
)hh) *
,hh* +
oldTypeii 
:ii 
$strii 
,ii  
oldNullablejj 
:jj 
truejj !
)jj! "
;jj" #
migrationBuilderll 
.ll 
AddPrimaryKeyll *
(ll* +
namemm 
:mm 
$strmm  
,mm  !
tablenn 
:nn 
$strnn 
,nn 
columnoo 
:oo 
$stroo 
)oo  
;oo  !
}pp 	
}qq 
}rr Ω*
∏C:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Migrations\20220909003453_addColumnCoefficientOfVariationTabRankOfTheBestFunds.cs
	namespace 	
Investments
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class @
4addColumnCoefficientOfVariationTabRankOfTheBestFunds M
:N O
	MigrationP Y
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
CreateTable		 (
(		( )
name

 
:

 
$str

 !
,

! "
columns 
: 
table 
=> !
new" %
{ 
Papel 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
Segmento 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
trueL P
)P Q
,Q R
RankMultiplicador %
=& '
table( -
.- .
Column. 4
<4 5
int5 8
>8 9
(9 :
type: >
:> ?
$str@ I
,I J
nullableK S
:S T
falseU Z
)Z [
,[ \"
CoefficientOfVariation *
=+ ,
table- 2
.2 3
Column3 9
<9 :
double: @
>@ A
(A B
typeB F
:F G
$strH N
,N O
nullableP X
:X Y
falseZ _
)_ `
,` a
FFOYield 
= 
table $
.$ %
Column% +
<+ ,
double, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
DividendYield !
=" #
table$ )
.) *
Column* 0
<0 1
double1 7
>7 8
(8 9
type9 =
:= >
$str? E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
RankDivYeld 
=  !
table" '
.' (
Column( .
<. /
int/ 2
>2 3
(3 4
type4 8
:8 9
$str: C
,C D
nullableE M
:M N
falseO T
)T U
,U V
PVP 
= 
table 
.  
Column  &
<& '
double' -
>- .
(. /
type/ 3
:3 4
$str5 ;
,; <
nullable= E
:E F
falseG L
)L M
,M N
	RankPreco 
= 
table  %
.% &
Column& ,
<, -
int- 0
>0 1
(1 2
type2 6
:6 7
$str8 A
,A B
nullableC K
:K L
falseM R
)R S
,S T
ValorDeMercado "
=# $
table% *
.* +
Column+ 1
<1 2
double2 8
>8 9
(9 :
type: >
:> ?
$str@ F
,F G
nullableH P
:P Q
falseR W
)W X
,X Y
Liquidez 
= 
table $
.$ %
Column% +
<+ ,
double, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
VacanciaMedia !
=" #
table$ )
.) *
Column* 0
<0 1
double1 7
>7 8
(8 9
type9 =
:= >
$str? E
,E F
nullableG O
:O P
falseQ V
)V W
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 3
,3 4
x5 6
=>7 9
x: ;
.; <
Papel< A
)A B
;B C
} 
) 
; 
} 	
	protected   
override   
void   
Down    $
(  $ %
MigrationBuilder  % 5
migrationBuilder  6 F
)  F G
{!! 	
migrationBuilder"" 
."" 
	DropTable"" &
(""& '
name## 
:## 
$str## !
)##! "
;##" #
}$$ 	
}%% 
}&& úÑ
ñC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\Migrations\20220916011422_propertyNameChange.cs
	namespace 	
Investments
 
. 
Persistence !
.! "

Migrations" ,
{ 
public 

partial 
class 
propertyNameChange +
:, -
	Migration. 7
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
RenameColumn		 )
(		) *
name

 
:

 
$str

 &
,

& '
table 
: 
$str "
," #
newName 
: 
$str (
)( )
;) *
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str %
,% &
table 
: 
$str "
," #
newName 
: 
$str +
)+ ,
;, -
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str  
,  !
table 
: 
$str "
," #
newName 
: 
$str "
)" #
;# $
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str !
,! "
table 
: 
$str "
," #
newName 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
RenameColumn )
() *
name 
: 
$str )
,) *
table 
: 
$str "
," #
newName   
:   
$str   ,
)  , -
;  - .
migrationBuilder"" 
."" 
RenameColumn"" )
("") *
name## 
:## 
$str## #
,### $
table$$ 
:$$ 
$str$$ "
,$$" #
newName%% 
:%% 
$str%% /
)%%/ 0
;%%0 1
migrationBuilder'' 
.'' 
RenameColumn'' )
('') *
name(( 
:(( 
$str(( 
,(( 
table)) 
:)) 
$str)) "
,))" #
newName** 
:** 
$str** $
)**$ %
;**% &
migrationBuilder,, 
.,, 
RenameColumn,, )
(,,) *
name-- 
:-- 
$str--  
,--  !
table.. 
:.. 
$str.. "
,.." #
newName// 
:// 
$str// )
)//) *
;//* +
migrationBuilder11 
.11 
RenameColumn11 )
(11) *
name22 
:22 
$str22 
,22 
table33 
:33 
$str33 "
,33" #
newName44 
:44 
$str44 #
)44# $
;44$ %
migrationBuilder66 
.66 
RenameColumn66 )
(66) *
name77 
:77 
$str77 
,77 
table88 
:88 
$str88 "
,88" #
newName99 
:99 
$str99  
)99  !
;99! "
migrationBuilder;; 
.;; 
RenameColumn;; )
(;;) *
name<< 
:<< 
$str<< "
,<<" #
table== 
:== 
$str== "
,==" #
newName>> 
:>> 
$str>> +
)>>+ ,
;>>, -
migrationBuilder@@ 
.@@ 
RenameColumn@@ )
(@@) *
nameAA 
:AA 
$strAA 
,AA 
tableBB 
:BB 
$strBB "
,BB" #
newNameCC 
:CC 
$strCC 
)CC  
;CC  !
migrationBuilderEE 
.EE 
RenameColumnEE )
(EE) *
nameFF 
:FF 
$strFF 
,FF 
tableGG 
:GG 
$strGG "
,GG" #
newNameHH 
:HH 
$strHH #
)HH# $
;HH$ %
migrationBuilderJJ 
.JJ 
RenameColumnJJ )
(JJ) *
nameKK 
:KK 
$strKK %
,KK% &
tableLL 
:LL 
$strLL "
,LL" #
newNameMM 
:MM 
$strMM &
)MM& '
;MM' (
migrationBuilderOO 
.OO 
RenameColumnOO )
(OO) *
namePP 
:PP 
$strPP 
,PP 
tableQQ 
:QQ 
$strQQ 
,QQ 
newNameRR 
:RR 
$strRR #
)RR# $
;RR$ %
migrationBuilderTT 
.TT 
RenameColumnTT )
(TT) *
nameUU 
:UU 
$strUU &
,UU& '
tableVV 
:VV 
$strVV &
,VV& '
newNameWW 
:WW 
$strWW (
)WW( )
;WW) *
migrationBuilderYY 
.YY 
RenameColumnYY )
(YY) *
nameZZ 
:ZZ 
$strZZ %
,ZZ% &
table[[ 
:[[ 
$str[[ &
,[[& '
newName\\ 
:\\ 
$str\\ +
)\\+ ,
;\\, -
migrationBuilder^^ 
.^^ 
RenameColumn^^ )
(^^) *
name__ 
:__ 
$str__  
,__  !
table`` 
:`` 
$str`` &
,``& '
newNameaa 
:aa 
$straa "
)aa" #
;aa# $
migrationBuildercc 
.cc 
RenameColumncc )
(cc) *
namedd 
:dd 
$strdd $
,dd$ %
tableee 
:ee 
$stree &
,ee& '
newNameff 
:ff 
$strff -
)ff- .
;ff. /
migrationBuilderhh 
.hh 
RenameColumnhh )
(hh) *
nameii 
:ii 
$strii !
,ii! "
tablejj 
:jj 
$strjj &
,jj& '
newNamekk 
:kk 
$strkk $
)kk$ %
;kk% &
migrationBuildermm 
.mm 
RenameColumnmm )
(mm) *
namenn 
:nn 
$strnn 
,nn 
tableoo 
:oo 
$stroo &
,oo& '
newNamepp 
:pp 
$strpp +
)pp+ ,
;pp, -
migrationBuilderrr 
.rr 
RenameColumnrr )
(rr) *
namess 
:ss 
$strss  
,ss  !
tablett 
:tt 
$strtt &
,tt& '
newNameuu 
:uu 
$struu -
)uu- .
;uu. /
migrationBuilderww 
.ww 
RenameColumnww )
(ww) *
namexx 
:xx 
$strxx 
,xx  
tableyy 
:yy 
$stryy &
,yy& '
newNamezz 
:zz 
$strzz $
)zz$ %
;zz% &
migrationBuilder|| 
.|| 
RenameColumn|| )
(||) *
name}} 
:}} 
$str}} $
,}}$ %
table~~ 
:~~ 
$str~~ &
,~~& '
newName 
: 
$str )
)) *
;* +
migrationBuilder
ÅÅ 
.
ÅÅ 
RenameColumn
ÅÅ )
(
ÅÅ) *
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ 
,
ÇÇ 
table
ÉÉ 
:
ÉÉ 
$str
ÉÉ &
,
ÉÉ& '
newName
ÑÑ 
:
ÑÑ 
$str
ÑÑ #
)
ÑÑ# $
;
ÑÑ$ %
}
ÖÖ 	
	protected
áá 
override
áá 
void
áá 
Down
áá  $
(
áá$ %
MigrationBuilder
áá% 5
migrationBuilder
áá6 F
)
ááF G
{
àà 	
migrationBuilder
ââ 
.
ââ 
RenameColumn
ââ )
(
ââ) *
name
ää 
:
ää 
$str
ää %
,
ää% &
table
ãã 
:
ãã 
$str
ãã "
,
ãã" #
newName
åå 
:
åå 
$str
åå )
)
åå) *
;
åå* +
migrationBuilder
éé 
.
éé 
RenameColumn
éé )
(
éé) *
name
èè 
:
èè 
$str
èè 
,
èè  
table
êê 
:
êê 
$str
êê "
,
êê" #
newName
ëë 
:
ëë 
$str
ëë #
)
ëë# $
;
ëë$ %
migrationBuilder
ìì 
.
ìì 
RenameColumn
ìì )
(
ìì) *
name
îî 
:
îî 
$str
îî !
,
îî! "
table
ïï 
:
ïï 
$str
ïï "
,
ïï" #
newName
ññ 
:
ññ 
$str
ññ $
)
ññ$ %
;
ññ% &
migrationBuilder
òò 
.
òò 
RenameColumn
òò )
(
òò) *
name
ôô 
:
ôô 
$str
ôô (
,
ôô( )
table
öö 
:
öö 
$str
öö "
,
öö" #
newName
õõ 
:
õõ 
$str
õõ (
)
õõ( )
;
õõ) *
migrationBuilder
ùù 
.
ùù 
RenameColumn
ùù )
(
ùù) *
name
ûû 
:
ûû 
$str
ûû )
,
ûû) *
table
üü 
:
üü 
$str
üü "
,
üü" #
newName
†† 
:
†† 
$str
†† ,
)
††, -
;
††- .
migrationBuilder
¢¢ 
.
¢¢ 
RenameColumn
¢¢ )
(
¢¢) *
name
££ 
:
££ 
$str
££ !
,
££! "
table
§§ 
:
§§ 
$str
§§ "
,
§§" #
newName
•• 
:
•• 
$str
•• 
)
•• 
;
••  
migrationBuilder
ßß 
.
ßß 
RenameColumn
ßß )
(
ßß) *
name
®® 
:
®® 
$str
®® ,
,
®®, -
table
©© 
:
©© 
$str
©© "
,
©©" #
newName
™™ 
:
™™ 
$str
™™ &
)
™™& '
;
™™' (
migrationBuilder
¨¨ 
.
¨¨ 
RenameColumn
¨¨ )
(
¨¨) *
name
≠≠ 
:
≠≠ 
$str
≠≠ &
,
≠≠& '
table
ÆÆ 
:
ÆÆ 
$str
ÆÆ "
,
ÆÆ" #
newName
ØØ 
:
ØØ 
$str
ØØ #
)
ØØ# $
;
ØØ$ %
migrationBuilder
±± 
.
±± 
RenameColumn
±± )
(
±±) *
name
≤≤ 
:
≤≤ 
$str
≤≤  
,
≤≤  !
table
≥≥ 
:
≥≥ 
$str
≥≥ "
,
≥≥" #
newName
¥¥ 
:
¥¥ 
$str
¥¥  
)
¥¥  !
;
¥¥! "
migrationBuilder
∂∂ 
.
∂∂ 
RenameColumn
∂∂ )
(
∂∂) *
name
∑∑ 
:
∑∑ 
$str
∑∑ 
,
∑∑ 
table
∏∏ 
:
∏∏ 
$str
∏∏ "
,
∏∏" #
newName
ππ 
:
ππ 
$str
ππ  
)
ππ  !
;
ππ! "
migrationBuilder
ªª 
.
ªª 
RenameColumn
ªª )
(
ªª) *
name
ºº 
:
ºº 
$str
ºº 
,
ºº 
table
ΩΩ 
:
ΩΩ 
$str
ΩΩ "
,
ΩΩ" #
newName
ææ 
:
ææ 
$str
ææ 
)
ææ  
;
ææ  !
migrationBuilder
¿¿ 
.
¿¿ 
RenameColumn
¿¿ )
(
¿¿) *
name
¡¡ 
:
¡¡ 
$str
¡¡ (
,
¡¡( )
table
¬¬ 
:
¬¬ 
$str
¬¬ "
,
¬¬" #
newName
√√ 
:
√√ 
$str
√√ %
)
√√% &
;
√√& '
migrationBuilder
≈≈ 
.
≈≈ 
RenameColumn
≈≈ )
(
≈≈) *
name
∆∆ 
:
∆∆ 
$str
∆∆  
,
∆∆  !
table
«« 
:
«« 
$str
«« "
,
««" #
newName
»» 
:
»» 
$str
»»  
)
»»  !
;
»»! "
migrationBuilder
   
.
   
RenameColumn
   )
(
  ) *
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ #
,
ÀÀ# $
table
ÃÃ 
:
ÃÃ 
$str
ÃÃ "
,
ÃÃ" #
newName
ÕÕ 
:
ÕÕ 
$str
ÕÕ (
)
ÕÕ( )
;
ÕÕ) *
migrationBuilder
œœ 
.
œœ 
RenameColumn
œœ )
(
œœ) *
name
–– 
:
–– 
$str
––  
,
––  !
table
—— 
:
—— 
$str
—— 
,
—— 
newName
““ 
:
““ 
$str
““  
)
““  !
;
““! "
migrationBuilder
‘‘ 
.
‘‘ 
RenameColumn
‘‘ )
(
‘‘) *
name
’’ 
:
’’ 
$str
’’ %
,
’’% &
table
÷÷ 
:
÷÷ 
$str
÷÷ &
,
÷÷& '
newName
◊◊ 
:
◊◊ 
$str
◊◊ )
)
◊◊) *
;
◊◊* +
migrationBuilder
ŸŸ 
.
ŸŸ 
RenameColumn
ŸŸ )
(
ŸŸ) *
name
⁄⁄ 
:
⁄⁄ 
$str
⁄⁄ (
,
⁄⁄( )
table
€€ 
:
€€ 
$str
€€ &
,
€€& '
newName
‹‹ 
:
‹‹ 
$str
‹‹ (
)
‹‹( )
;
‹‹) *
migrationBuilder
ﬁﬁ 
.
ﬁﬁ 
RenameColumn
ﬁﬁ )
(
ﬁﬁ) *
name
ﬂﬂ 
:
ﬂﬂ 
$str
ﬂﬂ 
,
ﬂﬂ  
table
‡‡ 
:
‡‡ 
$str
‡‡ &
,
‡‡& '
newName
·· 
:
·· 
$str
·· #
)
··# $
;
··$ %
migrationBuilder
„„ 
.
„„ 
RenameColumn
„„ )
(
„„) *
name
‰‰ 
:
‰‰ 
$str
‰‰ *
,
‰‰* +
table
ÂÂ 
:
ÂÂ 
$str
ÂÂ &
,
ÂÂ& '
newName
ÊÊ 
:
ÊÊ 
$str
ÊÊ '
)
ÊÊ' (
;
ÊÊ( )
migrationBuilder
ËË 
.
ËË 
RenameColumn
ËË )
(
ËË) *
name
ÈÈ 
:
ÈÈ 
$str
ÈÈ !
,
ÈÈ! "
table
ÍÍ 
:
ÍÍ 
$str
ÍÍ &
,
ÍÍ& '
newName
ÎÎ 
:
ÎÎ 
$str
ÎÎ $
)
ÎÎ$ %
;
ÎÎ% &
migrationBuilder
ÌÌ 
.
ÌÌ 
RenameColumn
ÌÌ )
(
ÌÌ) *
name
ÓÓ 
:
ÓÓ 
$str
ÓÓ (
,
ÓÓ( )
table
ÔÔ 
:
ÔÔ 
$str
ÔÔ &
,
ÔÔ& '
newName
 
:
 
$str
 
)
 
;
  
migrationBuilder
ÚÚ 
.
ÚÚ 
RenameColumn
ÚÚ )
(
ÚÚ) *
name
ÛÛ 
:
ÛÛ 
$str
ÛÛ *
,
ÛÛ* +
table
ÙÙ 
:
ÙÙ 
$str
ÙÙ &
,
ÙÙ& '
newName
ıı 
:
ıı 
$str
ıı #
)
ıı# $
;
ıı$ %
migrationBuilder
˜˜ 
.
˜˜ 
RenameColumn
˜˜ )
(
˜˜) *
name
¯¯ 
:
¯¯ 
$str
¯¯ !
,
¯¯! "
table
˘˘ 
:
˘˘ 
$str
˘˘ &
,
˘˘& '
newName
˙˙ 
:
˙˙ 
$str
˙˙ "
)
˙˙" #
;
˙˙# $
migrationBuilder
¸¸ 
.
¸¸ 
RenameColumn
¸¸ )
(
¸¸) *
name
˝˝ 
:
˝˝ 
$str
˝˝ &
,
˝˝& '
table
˛˛ 
:
˛˛ 
$str
˛˛ &
,
˛˛& '
newName
ˇˇ 
:
ˇˇ 
$str
ˇˇ '
)
ˇˇ' (
;
ˇˇ( )
migrationBuilder
ÅÅ 
.
ÅÅ 
RenameColumn
ÅÅ )
(
ÅÅ) *
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ  
,
ÇÇ  !
table
ÉÉ 
:
ÉÉ 
$str
ÉÉ &
,
ÉÉ& '
newName
ÑÑ 
:
ÑÑ 
$str
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
}
ÖÖ 	
}
ÜÜ 
}áá ⁄
ÉC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\RankOfTheBestFundsPersist.cs
	namespace

 	
Investments


 
.

 
Persistence

 !
{ 
public 

class %
RankOfTheBestFundsPersist *
:+ ,
GeneralPersist- ;
,; <&
IRankOfTheBestFundsPersist= W
{ 
private 
readonly 
InvestmentsContext +
_context, 4
;4 5
public %
RankOfTheBestFundsPersist (
(( )
InvestmentsContext) ;
context< C
)C D
:E F
baseG K
(K L
contextL S
)S T
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
bool 
> &
AddRankOfTheBestFundsAsync  :
(: ;
IEnumerable; F
<F G
RankOfTheBestFundsG Y
>Y Z
rankOfTheBestFunds[ m
)m n
{ 	
try 
{ 
_context 
. 
Database !
.! "
ExecuteSqlRaw" /
(/ 0
$str0 I
)I J
;J K
await 
_context 
. 
AddRangeAsync ,
(, -
rankOfTheBestFunds- ?
)? @
;@ A
await 
_context 
. 
SaveChangesAsync /
(/ 0
)0 1
;1 2
return 
true 
; 
} 
catch   
(   
System   
.   
	Exception   #
ex  $ &
)  & '
{!! 
Console"" 
."" 
	WriteLine"" !
(""! "
ex""" $
.""$ %
Message""% ,
)"", -
;""- .
return## 
false## 
;## 
}$$ 
}%% 	
public'' 
Task'' 
<'' 
IEnumerable'' 
<''  
RankOfTheBestFunds''  2
>''2 3
>''3 4&
GetRankOfTheBestFundsAsync''5 O
(''O P
int''P S
?''S T
totalFundsInRank''U e
=''f g
null''h l
)''l m
{(( 	
try** 
{++ 

IQueryable,, 
<,, 
RankOfTheBestFunds,, -
>,,- .
funds,,/ 4
=,,5 6
_context,,7 ?
.,,? @
	RankFunds,,@ I
.,,I J
AsNoTracking,,J V
(,,V W
),,W X
;,,X Y
if.. 
(.. 
totalFundsInRank.. #
!=..$ &
null..' +
)..+ ,
{// 
funds00 
=00 
funds00 !
.00! "
OrderBy00" )
(00) *
x00* +
=>00, .
x00/ 0
.000 1
MultiplierRanking001 B
)00B C
.11! "
Take11" &
(11& '
totalFundsInRank11' 7
??118 :
funds11; @
.11@ A
Count11A F
(11F G
)11G H
)11H I
;11I J
}22 
return44 
Task44 
.44 

FromResult44 &
(44& '
funds44' ,
.44, -
AsEnumerable44- 9
(449 :
)44: ;
)44; <
;44< =
}55 
catch66 
(66 
System66 
.66 
	Exception66 #
ex66$ &
)66& '
{77 
Console88 
.88 
	WriteLine88 !
(88! "
ex88" $
.88$ %
Message88% ,
)88, -
;88- .
return99 
null99 
;99 
}:: 
}<< 	
}== 
}>> ï
âC:\Users\lucas\Desktop\Repositorios\Meus repositorios\Investments\WEB\Back\src\Investments.Persistence\WebScrapingFundsAndYeldsPersist.cs
	namespace		 	
Investments		
 
.		 
Persistence		 !
{

 
public 

class +
WebScrapingFundsAndYeldsPersist 0
:1 2
GeneralPersist3 A
,A B,
 IWebScrapingFundsAndYeldsPersistC c
{ 
private 
readonly 
InvestmentsContext +
_context, 4
;4 5
public +
WebScrapingFundsAndYeldsPersist .
(. /
InvestmentsContext/ A
contextB I
)I J
:K L
baseM Q
(Q R
contextR Y
)Y Z
{ 	
_context 
= 
context 
; 
} 	
}66 
}77 